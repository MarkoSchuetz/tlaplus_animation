<!DOCTYPE html>
<html>
<head>
	<title>TLA+ Trace Visualizer</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>

<style type="text/css">
	body{
		font-family: sans-serif;
	}
	div{
		padding: 10px;
	}
	button{
		padding: 6px;
		background-color: lightgray;
		border-radius: 5px;
		cursor:pointer;
		font-size:14px;
	}
	button:active{
		background-color: lightblue;
		outline:0;
	}
	button:focus{
		outline:0;
	}
	svg{
		border:solid;
		border-width: 0px;
		border-color: lightgray;
	}
</style>

<div id="container" style="text-align:center;">


<h2>Log Visibility</h2>

<button id="prevBtn">Prev Frame</button>
<button id="nextBtn">Next Frame</button>

<!-- <input type="range" id="frameSlider"> -->


<div id="frameNum"></div>



<svg width='1100' height='600' id="svgBox">




<g action='Init' class='frame' id='0'><g transform='translate(80 50)'><rect fill='orange' x='0' width='3' height='20' y='145'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' fill='lightgray' width='90' height='90' y='30'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect fill='lightgray' width='90' height='90' y='30' x='95'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text x='0' font='Arial' y='180'>Visibility Point=-1</text></g><text y='30' x='10'>Next Action: Init</text></g><g class='frame' action='StartTxn(0)' id='1'><g transform='translate(80 50)'><rect fill='orange' x='0' width='3' height='20' y='145'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' fill='lightgray' width='90' height='90' y='30'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect fill='lightgray' width='90' height='90' y='30' x='95'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text x='0' font='Arial' y='180'>Visibility Point=-1</text></g><text y='30' x='10'>Next Action: StartTxn(0)</text></g><g class='frame' action='StartTxn(1)' id='2'><g transform='translate(80 50)'><rect fill='orange' x='0' width='3' height='20' y='145'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect fill='lightgray' width='90' height='90' y='30' x='95'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text x='0' font='Arial' y='180'>Visibility Point=-1</text></g><text y='30' x='10'>Next Action: StartTxn(1)</text></g><g class='frame' id='3' action='CommitTxn(1)'><g transform='translate(80 50)'><rect fill='orange' x='0' width='3' height='20' y='145'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text x='0' font='Arial' y='180'>Visibility Point=-1</text></g><text y='30' x='10'>Next Action: CommitTxn(1)</text></g><g class='frame' action='AbortTxn(0)' id='4'><g transform='translate(80 50)'><rect fill='orange' x='0' width='3' height='20' y='145'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text x='0' font='Arial' y='180'>Visibility Point=-1</text></g><text y='30' x='10'>Next Action: AbortTxn(0)</text></g><g class='frame' action='StartTxn(2)' id='5'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='190'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect fill='lightgray' width='90' height='90' y='30' x='190'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='190' y='180'>Visibility Point=1</text></g><text y='30' x='10'>Next Action: StartTxn(2)</text></g><g class='frame' id='6' action='CommitTxn(2)'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='190'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='190' y='180'>Visibility Point=1</text></g><text y='30' x='10'>Next Action: CommitTxn(2)</text></g><g class='frame' action='StartTxn(3)' id='7'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='285'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect fill='lightgray' width='90' height='90' y='30' x='285'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='285' y='180'>Visibility Point=2</text></g><text y='30' x='10'>Next Action: StartTxn(3)</text></g><g class='frame' action='StartTxn(4)' id='8'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='285'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect fill='lightgray' width='90' height='90' y='30' x='380'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='285' y='180'>Visibility Point=2</text></g><text y='30' x='10'>Next Action: StartTxn(4)</text></g><g class='frame' action='CommitTxn(3)' id='9'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='285'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='285' y='180'>Visibility Point=2</text></g><text y='30' x='10'>Next Action: CommitTxn(3)</text></g><g class='frame' action='StartTxn(5)' id='10'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='380'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='green'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect fill='lightgray' width='90' height='90' y='30' x='475'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='380' y='180'>Visibility Point=3</text></g><text y='30' x='10'>Next Action: StartTxn(5)</text></g><g class='frame' id='11' action='AbortTxn(5)'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='380'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='green'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect width='90' height='90' y='30' x='475' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='380' y='180'>Visibility Point=3</text></g><text y='30' x='10'>Next Action: AbortTxn(5)</text></g><g class='frame' action='CommitTxn(4)' id='12'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='380'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='green'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect width='90' height='90' y='30' x='475' fill='red'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='380' y='180'>Visibility Point=3</text></g><text y='30' x='10'>Next Action: CommitTxn(4)</text></g><g class='frame' action='StartTxn(6)' id='13'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='570'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='green'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='green'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect width='90' height='90' y='30' x='475' fill='red'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect fill='lightgray' width='90' height='90' y='30' x='570'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='570' y='180'>Visibility Point=5</text></g><text y='30' x='10'>Next Action: StartTxn(6)</text></g><g class='frame' id='14' action='CommitTxn(6)'><g transform='translate(80 50)'><rect fill='orange' width='3' height='20' y='145' x='570'></rect><g ><text font='Arial' x='20' y='20'>0</text><rect x='0' width='90' height='90' y='30' fill='red'></rect></g><g ><text font='Arial' y='20' x='115'>1</text><rect width='90' height='90' y='30' x='95' fill='green'></rect></g><g ><text font='Arial' y='20' x='210'>2</text><rect width='90' height='90' y='30' x='190' fill='green'></rect></g><g ><text font='Arial' y='20' x='305'>3</text><rect width='90' height='90' y='30' x='285' fill='green'></rect></g><g ><text font='Arial' y='20' x='400'>4</text><rect width='90' height='90' y='30' x='380' fill='green'></rect></g><g ><text font='Arial' y='20' x='495'>5</text><rect width='90' height='90' y='30' x='475' fill='red'></rect></g><g ><text font='Arial' y='20' x='590'>6</text><rect width='90' height='90' y='30' x='570' fill='yellow'></rect></g><g ><text font='Arial' y='20' x='685'>7</text><rect fill='lightgray' width='90' height='90' y='30' x='665'></rect></g><g transform='translate(800 190)'><rect height='20' fill='lightgray' x='5' width='20' y='120'></rect><text font='Arial' x='35' y='135'>Available</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='yellow' y='90'></rect><text font='Arial' x='35' y='105'>Pending</text></g><g transform='translate(800 190)'><rect height='20' y='30' x='5' width='20' fill='green'></rect><text font='Arial' x='35' y='45'>Committed</text></g><g transform='translate(800 190)'><rect height='20' x='5' width='20' fill='red' y='60'></rect><text font='Arial' x='35' y='75'>Aborted</text></g><text font='Arial' x='570' y='180'>Visibility Point=5</text></g><text y='30' x='10'>Next Action: CommitTxn(6)</text></g>"









</svg>

</div>


<script type="text/javascript">
	let frameElems = $("g.frame");
	let currFrame = 0;
	let maxFrame = frameElems.length;

	function reload(){
		frameElems.each(function(index){
			let gid = $(this).attr("id");
			if(gid && gid===currFrame.toString()){
				$(this).attr("visibility", "visible");
				console.log("Activating Frame " + gid);
			} else{
				$(this).attr("visibility", "hidden");
			}
		});
		$("#frameNum").html("Frame Number: "+ currFrame);
	}


	function advanceFrame(){
		currFrame = (currFrame + 1) % maxFrame;
		reload();
	}

	function prevFrame(){
		if(currFrame - 1 < 0){
			currFrame = maxFrame - 1;
		} else{
			currFrame = currFrame - 1;
		}
		reload();
	}

	$(document).keydown(function(e) {
    switch(e.which) {
        case 37: // left
        	prevFrame();
        	break;

        case 39: // right
        	advanceFrame();
        	break;

        default: return; // exit this handler for other keys
    }
	    e.preventDefault(); // prevent the default action (scroll / move caret)
	});

	$("#nextBtn").click(advanceFrame);
	$("#prevBtn").click(prevFrame);

	reload();

</script>

</body>
</html>





